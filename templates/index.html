{% extends 'base.html' %}

{% block head %}
<title>Contactos</title>
{% endblock %}

{% block body %}
<h1>Contacts</h1>

{% with messages = get_flashed_messages()  %}
{% if messages %}
{%for message in messages %}

<div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

{% endfor %}
{% endif %}
{% endwith %}
<form action="/contacts/add" method="POST">
    <input type="text" name="fullname" placeholder="Full Name"><br>
    <input type="text" name="phone" placeholder="Phone Numbre"><br>
    <input type="text" name="email" placeholder="Email"><br>
    <input type="submit" value="Save">
</form>
<div class="card mx-auto p-2">
    <table>
        <thead>
            <tr>
                <td>Full Name</td>
                <td>Phone</td>
                <td>Email</td>
                <td>Operations</td>
            </tr>
        </thead>
        <tbody>
            {%for contact in contacts %}
            <tr>
                <td>{{ contact.1 }}</td>
                <td>{{ contact.2 }}</td>
                <td>{{ contact.3 }}</td>
                <td>
                    <a href="/contacts/edit/{{ contact.0 }}">Edit</a>
                    <a href="/contacts/delete/{{ contact.0 }}">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}